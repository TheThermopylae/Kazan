<template>
  <section class="lg:bg-white lg:dark:bg-maindark rounded-10 lg:mb-6">
    <div>
      <h2 class="text-xl font-bold p-4 mb-1 hidden lg:block">
        کارت ها و حساب های بانکی
      </h2>
      <div
        class="grid grid-cols-3 lg:flex text-xs lg:text-sm lg:gap-3 lg:mb-3 bg-white dark:bg-maindark pt-3 border-b border-gray-200 lg:border-0 fixed z-20 w-full top-[48.5px] lg:relative lg:top-0"
      >
        <div
          class="lg:w-[140px] text-center cursor-pointer"
          @click="
            router.push({
              query: {}
            })
          "
        >
          <h3 :class="{ 'text-primary': !route.query.type }">کارت بانکی</h3>
          <div
            class="h-[3px] w-full bg-primary rounded-t-[50px] mt-3"
            v-if="!route.query.type"
          ></div>
        </div>
        <div class="lg:hidden lg:w-[140px] text-center cursor-pointer">
          <h3
            :class="{ 'text-primary': route.query.type == 'history' }"
            @click="changeQuery"
          >
            تاریخچه درخواست
          </h3>
          <div
            class="h-[3px] w-full bg-primary rounded-t-[50px] mt-3"
            v-if="route.query.type == 'history'"
          ></div>
        </div>
        <div class="lg:flex text-center items-center gap-2">
          <h3 class="text-secondary dark:text-white">پرداخت مستقیم</h3>
          <span
            class="text-white bg-secondary rounded-md text-xs p-1 hidden lg:block"
            >غیرفعال</span
          >
        </div>
      </div>
    </div>
    <div class="p-4" v-if="!route.query.type || width >= 1024">
      <div class="grid md:grid-cols-2 gap-3">
        <article
          class="flex justify-between items-center border border-[#EFEFEF] dark:border-textlight rounded-10 p-3 bg-white lg:bg-transparent"
          v-for="item in 4"
        >
          <div class="flex items-center gap-3">
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M8.04832 8.93417C8.37704 8.93417 8.64352 8.66636 8.64352 8.33598C8.64352 8.00561 8.37704 7.73779 8.04832 7.73779C7.7196 7.73779 7.45312 8.00561 7.45312 8.33598C7.45312 8.66636 7.7196 8.93417 8.04832 8.93417Z"
                fill="black"
              />
              <path
                d="M6.00418 11.236C6.11978 11.2461 6.22038 11.2192 6.30598 11.1552C6.44958 11.0483 6.59598 10.9689 6.74518 10.9171C6.75638 10.913 6.76558 10.9064 6.77278 10.8972C6.77638 10.8923 6.78038 10.8883 6.78478 10.8851C6.78798 10.8823 6.79158 10.8805 6.79558 10.8797C6.91438 10.8451 7.03638 10.8155 7.16158 10.791C7.17118 10.789 7.17978 10.7848 7.18738 10.7784C7.19138 10.7747 7.19518 10.7709 7.19878 10.7669C7.20382 10.7614 7.21081 10.7578 7.21858 10.7567C7.76218 10.6738 8.28718 10.7456 8.79358 10.9719C8.85798 11.0009 8.91738 11.035 8.97178 11.0744C9.04738 11.1287 9.13678 11.1691 9.20698 11.2234C9.62618 11.5478 9.93778 11.9345 10.1418 12.3836C10.431 13.0196 10.52 13.6857 10.4088 14.382C10.3396 14.8149 10.1916 15.2103 9.96478 15.5681C9.26038 16.6801 7.88878 17.2168 6.62938 16.823C6.40318 16.7518 6.17758 16.6722 5.97538 16.5456C5.26378 16.1024 4.76458 15.4276 4.56238 14.6129C4.50078 14.3661 4.47158 14.0224 4.47478 13.5818C4.48398 12.2845 4.48378 10.942 4.47418 9.55424C4.47338 9.43364 4.48018 9.31283 4.49458 9.19183C4.51658 9.01414 4.61318 8.85695 4.78438 8.72027C4.83478 8.68007 4.88958 8.65253 4.94878 8.63766C5.04358 8.61354 5.11918 8.56107 5.21998 8.56409C5.46558 8.57133 5.69738 8.57153 5.91538 8.56469C5.95578 8.56349 5.97578 8.58319 5.97538 8.62379L5.97238 11.2011C5.97238 11.2224 5.98298 11.234 6.00418 11.236ZM7.45114 15.5252C7.65355 15.5231 7.85351 15.4769 8.03962 15.3893C8.22573 15.3017 8.39434 15.1744 8.53581 15.0146C8.67729 14.8549 8.78887 14.6659 8.86417 14.4583C8.93947 14.2507 8.97703 14.0287 8.9747 13.805C8.97237 13.5812 8.93019 13.36 8.85058 13.1541C8.77097 12.9482 8.65548 12.7615 8.51071 12.6048C8.36593 12.448 8.19471 12.3243 8.00682 12.2406C7.81892 12.157 7.61804 12.115 7.41563 12.1171C7.21322 12.1193 7.01325 12.1655 6.82714 12.2531C6.64104 12.3407 6.47243 12.468 6.33095 12.6277C6.18948 12.7875 6.0779 12.9765 6.0026 13.1841C5.92729 13.3916 5.88974 13.6136 5.89207 13.8374C5.8944 14.0612 5.93658 14.2823 6.01619 14.4883C6.0958 14.6942 6.21129 14.8808 6.35606 15.0376C6.50084 15.1943 6.67206 15.318 6.85995 15.4017C7.04784 15.4854 7.24873 15.5273 7.45114 15.5252Z"
                fill="#307EE1"
              />
              <path
                d="M12.7477 16.8541C12.6881 16.9036 12.6117 16.9315 12.5185 16.938C12.2345 16.9576 11.9483 16.9576 11.6599 16.938C11.6526 16.9375 11.6457 16.9342 11.6407 16.9287C11.6357 16.9232 11.6329 16.9159 11.6329 16.9084C11.6285 14.4831 11.6277 11.9751 11.6305 9.38458C11.6311 9.04086 11.7721 8.79604 12.0787 8.64167C12.0918 8.63532 12.1034 8.62606 12.1129 8.61453C12.1381 8.58438 12.1703 8.56931 12.2095 8.56931C12.4987 8.56931 12.7899 8.5685 13.0831 8.56689C13.0983 8.56689 13.1128 8.57293 13.1234 8.58367C13.1341 8.59442 13.1401 8.60899 13.1401 8.62418C13.1397 11.1737 13.1401 13.6702 13.1413 16.1136C13.1413 16.3725 13.0623 16.5842 12.9043 16.7486C12.8539 16.8005 12.8005 16.8101 12.7477 16.8541Z"
                fill="#307EE1"
              />
              <path
                d="M16.6279 15.5038C16.8475 15.534 17.0003 15.5382 17.0863 15.5165C17.4707 15.4196 17.7293 15.2132 17.8621 14.8972C17.9333 14.7283 17.9671 14.4811 17.9635 14.1555C17.9527 13.2437 17.9529 12.3846 17.9641 11.5782C17.9695 11.1639 18.2941 10.8485 18.7063 10.8461C18.9591 10.8445 19.1997 10.8469 19.4281 10.8534C19.4356 10.8535 19.4428 10.8566 19.4481 10.8621C19.4534 10.8675 19.4563 10.8747 19.4563 10.8823C19.4547 12.0019 19.4543 13.1635 19.4551 14.3671C19.4555 14.8423 19.3389 15.2775 19.1053 15.6727C18.7885 16.2089 18.3419 16.582 17.7655 16.7919C17.1819 17.0045 16.6035 17.0075 16.0303 16.8009C15.4139 16.5786 14.9435 16.1724 14.6191 15.5822C14.4215 15.2232 14.3225 14.82 14.3221 14.3726C14.3213 13.1987 14.3207 12.0363 14.3203 10.8853C14.3203 10.8771 14.3235 10.8691 14.3292 10.8631C14.3349 10.8572 14.3427 10.8537 14.3509 10.8534C14.5877 10.8453 14.8243 10.8413 15.0607 10.8413C15.4981 10.8413 15.8167 11.1862 15.8173 11.6216C15.8181 12.5708 15.8191 13.5109 15.8203 14.4419C15.8207 14.8323 15.9919 15.146 16.3339 15.3832C16.3933 15.4242 16.4887 15.4321 16.5451 15.4713C16.5707 15.4893 16.5983 15.5002 16.6279 15.5038Z"
                fill="#307EE1"
              />
            </svg>
            <div class="text-sm">
              6219 - 0000 - 0000 - 0000
              <h4 class="text-secondary dark:text-textdark text-xs mt-0.5">
                بلو بانک
              </h4>
            </div>
          </div>
          <div class="flex gap-2">
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="cursor-pointer"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M16.2191 5.33815L19.1831 8.30515C21.1951 10.3191 22.2011 11.3262 21.9671 12.4122C21.7321 13.4972 20.4001 13.9972 17.7371 14.9982L15.8921 15.6912C15.1791 15.9592 14.8221 16.0932 14.5471 16.3312C14.4265 16.4365 14.3191 16.5538 14.2251 16.6832C14.0131 16.9802 13.9121 17.3472 13.7101 18.0832C13.2501 19.7552 13.0201 20.5912 12.4711 20.9042C12.2411 21.0361 11.9791 21.1042 11.7131 21.1042C11.0831 21.1042 10.4701 20.4902 9.24412 19.2642L7.77812 17.7962L6.69912 16.7162L5.28512 15.3002C4.06712 14.0812 3.45812 13.4722 3.45512 12.8452C3.45311 12.574 3.52316 12.3073 3.65812 12.0722C3.97112 11.5292 4.80112 11.3002 6.46112 10.8422C7.19812 10.6392 7.56612 10.5381 7.86312 10.3252C7.99579 10.2291 8.11579 10.1185 8.22312 9.99315C8.45912 9.71515 8.59112 9.35615 8.85312 8.63815L9.52212 6.81515C10.5091 4.12215 11.0021 2.77515 12.0901 2.53515C13.1781 2.29515 14.1921 3.30915 16.2191 5.33815Z"
                fill="#000006"
                fill-opacity="0.4"
              />
              <path
                d="M3.3019 22.2758L7.7779 17.7958L6.6989 16.7158L2.2229 21.1958C2.08651 21.3404 2.01183 21.5325 2.01473 21.7312C2.01763 21.93 2.09787 22.1198 2.23842 22.2603C2.37897 22.4009 2.56876 22.4811 2.76751 22.484C2.96626 22.4869 3.15731 22.4122 3.3019 22.2758Z"
                fill="#000006"
                fill-opacity="0.4"
              />
            </svg>
            <svg
              width="24"
              height="25"
              viewBox="0 0 24 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="cursor-pointer"
            >
              <path
                d="M5 14.5C6.10457 14.5 7 13.6046 7 12.5C7 11.3954 6.10457 10.5 5 10.5C3.89543 10.5 3 11.3954 3 12.5C3 13.6046 3.89543 14.5 5 14.5Z"
                stroke="#000006"
                stroke-opacity="0.4"
                stroke-width="1.5"
              />
              <path
                d="M12 14.5C13.1046 14.5 14 13.6046 14 12.5C14 11.3954 13.1046 10.5 12 10.5C10.8954 10.5 10 11.3954 10 12.5C10 13.6046 10.8954 14.5 12 14.5Z"
                stroke="#000006"
                stroke-opacity="0.4"
                stroke-width="1.5"
              />
              <path
                d="M19 14.5C20.1046 14.5 21 13.6046 21 12.5C21 11.3954 20.1046 10.5 19 10.5C17.8954 10.5 17 11.3954 17 12.5C17 13.6046 17.8954 14.5 19 14.5Z"
                stroke="#000006"
                stroke-opacity="0.4"
                stroke-width="1.5"
              />
            </svg>
          </div>
        </article>
      </div>
      <button
        class="flex items-center gap-2 primary rounded-lg p-3 text-sm mt-4"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4.1665 9.99984H15.8332M9.99984 4.1665V15.8332"
            stroke="white"
            stroke-width="1.5"
            stroke-linecap="round"
          />
        </svg>
        افزودن کارت بانکی
      </button>
    </div>
  </section>
</template>

<script setup>
const route = useRoute()
const router = useRouter()
let width = ref(0)

function changeQuery () {
  router.push({
    query: {
      type: 'history'
    }
  })
}

function updateWidth () {
  width.value = window.innerWidth
}

onMounted(() => {
  updateWidth()
  window.addEventListener('resize', updateWidth)
})

onUnmounted(() => {
  window.removeEventListener('resize', updateWidth)
})
</script>
